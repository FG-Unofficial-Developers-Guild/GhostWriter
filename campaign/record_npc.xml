<?xml version="1.0" encoding="utf-8"?>

<!--
  Please see the license file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="npc_header" merge="join">
		<script>
			local updateOriginal;
			function onInit()
				updateOriginal = super.update;
				super.update = update;
				super.onInit();
			end
			function update()
				if updateOriginal then
					updateOriginal();
					local bReadOnly = WindowManager.getReadOnlyState(getDatabaseNode());
					exportcontrol.setReadOnly(bReadOnly);
				end
			end
		</script>
		<sheetdata>
			<button_stringcycler name="exportcontrol" insertbefore="name">
				<anchored position="insidetopright" offset="30,2" width="50" height="20" />
				<anchored>
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<parameters>
					<defaultlabelres>export_label_default</defaultlabelres>
					<labelsres>export_label_gm|export_label_player</labelsres>
					<values>gm|player</values>
				</parameters>
			</button_stringcycler>
		</sheetdata>
	</windowclass>
</root>